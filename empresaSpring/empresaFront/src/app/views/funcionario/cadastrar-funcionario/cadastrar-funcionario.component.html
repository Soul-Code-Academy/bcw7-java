<div class="container w-100 mt-5">
  <h3 class="text-center title mt-5 mb-3">Cadastrar Funcionário</h3>
  <div class="card" style="height: 300px; overflow: auto">
    <form class="p-3">
      <div class="row">
        <div class="col col-lg-6 col-md-12">
          <div class="mb-3">
            <label class="form-label">Nome</label>
            <input
              type="text"
              class="form-control"
              [(ngModel)]="funcionario.func_nome"
              name="func_nome"
            />
          </div>
        </div>
        <div class="col col-lg-3 col-md-12">
          <div class="mb-3">
            <label class="form-label">CPF</label>
            <input
              type="text"
              class="form-control"
              [(ngModel)]="funcionario.func_cpf"
              name="func_cpf"
            />
          </div>
        </div>
        <div class="col col-lg-3 col-md-12">
          <div class="mb-3">
            <label class="form-label">Data Nascimento</label>
            <input
              type="date"
              class="form-control"
              [(ngModel)]="funcionario.func_dataNascimento"
              name="func_dataNascimento"
            />
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col col-lg-6 col-md-12">
          <div class="mb-3">
            <label class="form-label">Email</label>
            <input
              type="email"
              class="form-control"
              [(ngModel)]="funcionario.func_email"
              name="func_email"
            />
          </div>
        </div>
        <div class="col col-lg-6 col-md-12">
          <div class="mb-3">
            <label class="form-label">Telefone</label>
            <input
              type="text"
              class="form-control"
              [(ngModel)]="funcionario.func_telefone"
              name="func_telefone"
            />
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col col-lg-4 col-md-12">
          <label class="form-label">CEP</label>
          <div class="d-flex">
            <input
              type="text"
              class="form-control"
              [(ngModel)]="funcionario.func_cep"
              name="func_cep"
            />
            <button class="btn btn-dark btn-sm" type="button">Buscar</button>
          </div>
        </div>
        <div class="col col-lg-4 col-md-12">
          <div class="mb-3">
            <label class="form-label">Cidade</label>
            <input
              type="text"
              class="form-control"
              [(ngModel)]="funcionario.func_cidade"
              name="func_cidade"
            />
          </div>
        </div>
        <div class="col col-lg-4 col-md-12">
          <div class="mb-3">
            <label class="form-label">Estado</label>
            <input
              type="text"
              class="form-control"
              [(ngModel)]="funcionario.func_estado"
              name="func_estado"
            />
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col col-lg-8 col-md-12">
          <div class="mb-3">
            <label class="form-label">Rua/Travessa/Avenida</label>
            <input
              type="text"
              class="form-control"
              [(ngModel)]="funcionario.func_rua"
              name="func_rua"
            />
          </div>
        </div>
        <div class="col col-lg-4 col-md-12">
          <div class="mb-3">
            <label class="form-label">Número</label>
            <input
              type="text"
              class="form-control"
              [(ngModel)]="funcionario.func_numero"
              name="func_numero"
            />
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col col-lg-6 col-md-12">
          <div class="mb-3">
            <label class="form-label">Bairro</label>
            <input
              type="text"
              class="form-control"
              [(ngModel)]="funcionario.func_bairro"
              name="func_bairro"
            />
          </div>
        </div>
        <div class="col col-lg-6 col-md-12">
          <div class="mb-3">
            <label class="form-label">Referência</label>
            <input
              type="text"
              class="form-control"
              [(ngModel)]="funcionario.func_referencia"
              name="func_referencia"
            />
          </div>
        </div>
        <div class="mt-3">
          <button
            #cadastrar
            (click)="cadastrarFuncionario()"
            class="btn btn-success me-3"
          >
            Cadastrar
          </button>
          <button type="reset" class="btn btn-dark me-3">Limpar</button>
          <button
            routerLink="/funcionarioCargo/{{ id_cargo }}"
            class="btn btn-dark"
          >
            Cancelar
          </button>
        </div>
      </div>
    </form>
  </div>

  <div *ngIf="isModal">
    <div class="myModal w-50 mx-auto mb-5 pb-3" style="height: 50%">
      <div class="tituloModal">
        <label class="form-label fs-3">Foto</label>
        <div
          [(ngModel)]="funcionario.func_foto"
          name="func_nome"
          style="width: 8rem; height: 8rem"
          class="border border-warning my-3 p-1 mx-auto"
          (change)="subirFoto($event)"
        ></div>
        <input
          type="file"
          class="form-control"
          [(ngModel)]="funcionario.func_foto"
          name="func_foto"
          (change)="subirFoto($event)"
        />
      </div>
      <button
        class="btn mt-5 btn-modal"
        routerLink="/funcionarioCargo/{{ id_cargo }}"
      >
        OK
      </button>
      <button class="btn mt-5 btn-modal" (click)="cancelarAcao()">Sair</button>
    </div>
  </div>
</div>

<div class="fixed-top">
  <div
    *ngIf="cadastrado"
    class="alert alert-success w-75 text-center m-auto"
    role="alert"
  >
    Funcionário Cadastrado no Cargo!<i
      (click)="fechar()"
      class="fa-solid fa-rectangle-xmark fs-1 float-end"
      style="cursor: pointer"
    ></i>
  </div>
  <div
    *ngIf="error"
    class="alert alert-danger w-75 text-center m-auto"
    role="alert"
  >
    Erro!Não foi possível cadastrar este funcionário.<i
      (click)="fechar()"
      class="fa-solid fa-rectangle-xmark fs-1 float-end"
      style="cursor: pointer"
    ></i>
  </div>
  <div
    *ngIf="anexada"
    class="alert alert-danger w-75 text-center m-auto"
    role="alert"
  >
    Foto anexada!<i
      (click)="fechar()"
      class="fa-solid fa-rectangle-xmark fs-1 float-end"
      style="cursor: pointer"
    ></i>
  </div>
  <div
    *ngIf="erro"
    class="alert alert-danger w-75 text-center m-auto"
    role="alert"
  >
    Erro!Não foi possível anexar a foto.<i
      (click)="fechar()"
      class="fa-solid fa-rectangle-xmark fs-1 float-end"
      style="cursor: pointer"
    ></i>
  </div>
</div>
